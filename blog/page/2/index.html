<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />

    <meta property="og:type" content="website">
    <meta property="og:url" content="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;page&#x2F;2&#x2F;" />

    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="@rfkelly">
    <meta name="twitter:site" content="@rfkelly">

    
    <meta name="twitter:title" content="Ryan's Ramblings">
    <title>Ryan's Ramblings</title>
    
    
    <link rel="icon" href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;processed_images&#x2F;866b5dbf416f778f00.png" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira Sans|Fira Mono">
    <link rel="stylesheet" href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;main.css">
     
  </head>
  <body>
    
      <header>
        <a class="profile-icon" href="/">
          <img src="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;processed_images&#x2F;866b5dbf416f778f00.png" alt="profile picture">
        </a>
        <nav>
            <a href="/about/">About</a>
            <a href="/blog/">Blog</a>
            <a href="https://github.com/rfk">GitHub</a>
            <a href="https://twitter.com/rfkelly">Twitter</a>
        </nav>
      </header>
    
    <main>
    
  <h1>Ryan&#x27;s Ramblings</h1>

  <p>In blog form:</p>


  
    
  

  
    <hr />
      <div class="page-preview">
    <h3><a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;painless-auth-pyramid-browserid&#x2F;">Painless Authentication with Pyramid and BrowserID</a></h3>
    <div class="item-meta">
      <div class="item-date">October 20, 2011</div>
      <div class="item-tags">
        [ 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;technology&#x2F;">technology</a>
          
        
        ]
      </div>
    </div>
    <div class="page-summary">
      <p>There are a couple of really exciting projects underway at Mozilla right now.</p>
<p>The first is <a href="https://browserid.org/">BrowserID</a>, a distributed single-signon system from the <a href="http://identity.mozilla.com/">Mozilla Identity Team</a>.  BrowserID sports a very slick sign-in process, simple integration with your existing software stack, and is designed from the ground up to provide strong <a href="http://identity.mozilla.com/post/7899984443/privacy-and-browserid">user privacy</a> guarantees.</p>
<p>The second is <a href="https://wiki.mozilla.org/Services/Sagrada">Project Sagrada</a>, a platform for quickly building secure, scalable web applications from the folks I work with on the <a href="http://blog.mozilla.com/services/">Mozilla Services Team</a>.  While initial development is being driven by Mozilla's internal projects and needs, the hope is that one day developers will be able to just <a href="https://tarekziade.wordpress.com/2011/09/22/sagrada-creation-and-hosting-of-web-services/">write some simple service definitions</a> then deploy their applications across Mozilla's infrastructure.</p>
<p>Of course, we're not there yet, but we're building up to it piece by piece.  One piece I've been working on, and which is coming along quite nicely if I do say so myself, is authentication.  We are building a secure, flexible and efficient authentication stack on top of some key Python web technologies such a <a href="http://www.pylonsproject.org/projects/pyramid/about">Pyramid</a> and <a href="http://pypi.python.org/pypi/repoze.who/">repoze.who</a>.</p>
<p>So without further ado, here's a glimpse of my first tiny piece of Project Sagrada: adding BrowserID support to a Pyramid app with just a few lines of configuration.</p>

        <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;painless-auth-pyramid-browserid&#x2F;">read more &gt;&gt;</a>
      
    </div>
  </div>
  
    <hr />
      <div class="page-preview">
    <h3><a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;what-i-like-about-browserid&#x2F;">What I like about BrowserID</a></h3>
    <div class="item-meta">
      <div class="item-date">September 30, 2011</div>
      <div class="item-tags">
        [ 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;technology&#x2F;">technology</a>
          
        
        ]
      </div>
    </div>
    <div class="page-summary">
      <p>I'm really impressed by Mozilla's new <a href="http://browserid.org">BrowserID</a> project.</p>
<p>A robust distributed identity infrastructure will make the internet a better place, and I'm keen to help that goal along however I can.  I was quick to jump on the <a href="http://en.wikipedia.org/wiki/OpenID">OpenID</a> bandwagon when it came rolling by, and still use &quot;<a href="http://www.rfk.id.au">http://www.rfk.id.au</a>&quot; as a delegated identity on sites that support it.  But I've never really <em>liked</em> OpenID – it has always felt clunky to me, both a UI level and as a protocol.</p>
<p>BrowserID fixes pretty much all of the things I dislike about OpenID, and a couple more problems that I didn't even realise I had.</p>

        <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;what-i-like-about-browserid&#x2F;">read more &gt;&gt;</a>
      
    </div>
  </div>
  
    <hr />
      <div class="page-preview">
    <h3><a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;dream-job-day-zero&#x2F;">Dream Job: Day Zero</a></h3>
    <div class="item-meta">
      <div class="item-date">September 05, 2011</div>
      <div class="item-tags">
        [ 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;personal&#x2F;">personal</a>
          
        
        ]
      </div>
    </div>
    <div class="page-summary">
      <p>It's been two months since I posted <a href="/blog/entry/seeking-dream-job/">Passionate Developer seeks Dream Job</a>, and I've been overwhelmed by the positive response it has generated - lots of well wishes, kind words, advice, and several really interesting opportunities.  Even better, I'm happy to announce that the story has a happy ending.</p>
<p>The short version: I started today with <a href="http://www.mozilla.org/">Mozilla</a>, working as a contractor with the <a href="https://wiki.mozilla.org/Services">Services</a> team.  It's been quite a ride to get here, so read on if you're interested in the long-version debrief.</p>

        <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;dream-job-day-zero&#x2F;">read more &gt;&gt;</a>
      
    </div>
  </div>
  
    <hr />
      <div class="page-preview">
    <h3><a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;seeking-dream-job&#x2F;">Passionate Developer seeks Dream Job</a></h3>
    <div class="item-meta">
      <div class="item-date">June 27, 2011</div>
      <div class="item-tags">
        [ 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;personal&#x2F;">personal</a>
          
        
        ]
      </div>
    </div>
    <div class="page-summary">
      <p>I need something new in my career.</p>
<p>Don't get me wrong.  I love what I do and I've no intention of abandoning the tech
scene to, say, <a href="http://www.snpp.com/episodes/5F20">start an emu farm</a>.
But the current combination of work, family and life in general is starting to wear us
all down.  It's time for a change.</p>
<p>And frankly, if you're going to make a change, you might as well make it the absolute
best one you can.  So for the duration of this post I'm going to try something rather
difficult – I'm going to switch off my usual unassuming, undemanding nature and
give myself permission to be greedy.  What's my dream job?  My serious, no-holds-barred,
anything-is-possible dream job.  Hopefully I don't come off sounding like an arrogant
jerk.</p>
<p>Because I need to know: does it exist, and do I have what it takes to land it?</p>

        <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;seeking-dream-job&#x2F;">read more &gt;&gt;</a>
      
    </div>
  </div>
  
    <hr />
      <div class="page-preview">
    <h3><a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;testing-better-coverage-tox&#x2F;">Testing better with coverage and tox</a></h3>
    <div class="item-meta">
      <div class="item-date">May 14, 2011</div>
      <div class="item-tags">
        [ 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;software&#x2F;">software</a>
           | 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;python&#x2F;">python</a>
          
        
        ]
      </div>
    </div>
    <div class="page-summary">
      <p>I've got a little bit of downtime at the moment, and I'm determined to spend it keeping my Python skills and projects up to date.  First on the list: testing.</p>
<p>Almost all of <a href="/software/">my open-source projects</a> come with automated tests of some kind.  Some are woefully under-tested (<a href="http://github.com/rfk/m2wsgi/">m2wsgi</a>, <a href="http://github.com/rfk/myppy/">myppy</a>) while others have collected a test case for just about every feature (<a href="http://github.com/rfk/pyenchant/">pyenchant</a>, <a href="http://github.com/rfk/esky/">esky</a>).  But they could all stand to benefit from a little more testing discipline.</p>
<p>If you have any of your own python projects, ask yourself: do they work on older versions of python?  How about on 2.7?  On 3.2?  How about on Windows or OSX?  <em>Are you sure?</em></p>
<p>I want to be able to answer a confident <em>yes</em> to all these questions, so I'm embarking on a rather ambitious plan over the coming months: full test suites, with 100% <a href="http://en.wikipedia.org/wiki/Code_coverage">code coverage</a>, tested on Linux, Windows and OSX, across python 2.5, 2.6, 2.7 and 3.2.</p>

        <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;testing-better-coverage-tox&#x2F;">read more &gt;&gt;</a>
      
    </div>
  </div>
  
    <hr />
      <div class="page-preview">
    <h3><a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;hatchet-hack-frozen-pyside-apps&#x2F;">Hatchet: hack frozen PySide apps down to size</a></h3>
    <div class="item-meta">
      <div class="item-date">February 07, 2011</div>
      <div class="item-tags">
        [ 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;software&#x2F;">software</a>
           | 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;python&#x2F;">python</a>
          
        
        ]
      </div>
    </div>
    <div class="page-summary">
      <p>If you've seen any of my <a href="http://pypi.python.org/pypi/esky">latest</a> <a href="http://pypi.python.org/pypi/zipimportx">python</a> <a href="http://pypi.python.org/pypi/signedimp">projects</a>, you know that I spend a lot of time thinking about <em>freezing</em> python programs – taking a python script and packaging it up into a stand-alone application that can be deployed to an end user.  My latest quest has been freezing an application that uses <a href="http://www.pyside.org/">PySide</a> for its GUI, and trying to make the resulting distribution bundle as small as possible.  The result is a neat little tool called <a href="https://github.com/rfk/pysidekick/blob/master/PySideKick/Hatchet.py">Hatchet</a>.</p>
<p>This post is part motivational, part example.  I'll show you a basic &quot;hello world&quot; app in PySide, take you through the process of freezing it into a stand-alone application, then show how to use Hatchet to shrink the distribution down to a manageable size.  If that seems a little too academic for you, consider this for real-world motivation: using the techniques shown in this post, I was able to chop over <em>40MB</em> off of the <a href="http://www.saltdrive.com/">SaltDrive</a> application bundle for Mac OSX.</p>

        <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;hatchet-hack-frozen-pyside-apps&#x2F;">read more &gt;&gt;</a>
      
    </div>
  </div>
  
    <hr />
      <div class="page-preview">
    <h3><a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;pyenchant-precompiled-osx&#x2F;">PyEnchant: now with OSX!</a></h3>
    <div class="item-meta">
      <div class="item-date">August 17, 2010</div>
      <div class="item-tags">
        [ 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;software&#x2F;">software</a>
           | 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;python&#x2F;">python</a>
          
        
        ]
      </div>
    </div>
    <div class="page-summary">
      <p>The latest release of <a href="http://www.rfk.id.au/software/pyenchant/">PyEnchant</a> now contains an experimental binary distribution for OSX, as both an mpkg installer and a python egg.  In theory, users on OSX 10.4 or later should be able to just drop <a href="http://pypi.python.org/packages/2.6/p/pyenchant/pyenchant-1.6.3-py2.6-macosx-10.4-universal.egg"><code>pyenchant-1.6.3-py2.6-macosx-10.4-universal.egg</code></a> somewhere on sys.path and be up and running and spellchecking with ease.</p>
<p>If you're a Mac user, please try it out and <a href="http://github.com/rfk/pyenchant/issues/">let me know</a> if anything doesn't work the way you expect.</p>

        <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;pyenchant-precompiled-osx&#x2F;">read more &gt;&gt;</a>
      
    </div>
  </div>
  
    <hr />
      <div class="page-preview">
    <h3><a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;compiling-rpython-programs&#x2F;">Compiling RPython Programs</a></h3>
    <div class="item-meta">
      <div class="item-date">August 09, 2010</div>
      <div class="item-tags">
        [ 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;python&#x2F;">python</a>
          
        
        ]
      </div>
    </div>
    <div class="page-summary">
      <p>Inspired by a recent <a href="http://www.reddit.com/r/programming/comments/cytcx/shed_skin_05_released_an_optimizing_pythontoc/">discussion on Reddit</a> about a Python-to-C++ compiler called <a href="http://shed-skin.blogspot.com/2010/08/shed-skin-05.html">Shed Skin</a>, I decided to write up my own experiences on compiling (a restricted subset of) Python to a stand-alone executable.  My tool of choice is the translation toolchain from the <a href="http://pypy.org/">PyPy</a> project – a project, by the way, that every Python programmer should take a look at.</p>
<p>Take this very exciting (<strong>EDIT:</strong> and <a href="http://www.reddit.com/r/Python/comments/cyyzz/compiling_rpython_programs/c0wbopq">needlessly inefficient</a>) python script, which we'll assume is in a file &quot;factors.py&quot;:</p>
<pre style="background-color:#2b303b;">
<code class="language-python" data-lang="python"><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">factors</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">n</span><span style="color:#c0c5ce;">):
    </span><span style="color:#65737e;">&quot;&quot;&quot;Calculate all the factors of n.&quot;&quot;&quot;
    </span><span style="color:#b48ead;">for </span><span style="color:#c0c5ce;">i </span><span style="color:#b48ead;">in </span><span style="color:#bf616a;">xrange</span><span style="color:#c0c5ce;">(</span><span style="color:#d08770;">2</span><span style="color:#c0c5ce;">,n / </span><span style="color:#d08770;">2 </span><span style="color:#c0c5ce;">+ </span><span style="color:#d08770;">1</span><span style="color:#c0c5ce;">):
       </span><span style="color:#b48ead;">if </span><span style="color:#c0c5ce;">n % i == </span><span style="color:#d08770;">0</span><span style="color:#c0c5ce;">:
           </span><span style="color:#b48ead;">return </span><span style="color:#c0c5ce;">[i] + </span><span style="color:#bf616a;">factors</span><span style="color:#c0c5ce;">(n / i)
    </span><span style="color:#b48ead;">return </span><span style="color:#c0c5ce;">[n]

</span><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">main</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">argv</span><span style="color:#c0c5ce;">):
    n = </span><span style="color:#bf616a;">int</span><span style="color:#c0c5ce;">(argv[</span><span style="color:#d08770;">1</span><span style="color:#c0c5ce;">])
    </span><span style="color:#b48ead;">print </span><span style="color:#c0c5ce;">&quot;</span><span style="color:#a3be8c;">factors of</span><span style="color:#c0c5ce;">&quot;, n, &quot;</span><span style="color:#a3be8c;">are</span><span style="color:#c0c5ce;">&quot;, </span><span style="color:#bf616a;">factors</span><span style="color:#c0c5ce;">(n)

</span><span style="color:#b48ead;">if </span><span style="color:#c0c5ce;">__name__ == &quot;</span><span style="color:#a3be8c;">__main__</span><span style="color:#c0c5ce;">&quot;:
    </span><span style="color:#b48ead;">import </span><span style="color:#c0c5ce;">sys
    </span><span style="color:#bf616a;">main</span><span style="color:#c0c5ce;">(sys.argv)
</span></code></pre>
<p>We can of course run this from the command-line using the python interpreter, but gosh that's boring:</p>
<pre style="background-color:#2b303b;">
<code class="language-console" data-lang="console"><span style="color:#c0c5ce;">$&gt; python factors.py 987654321
factors of 987654321 are [3, 3, 17, 17, 379721]
</span></code></pre>
<p>Instead, let's compile it into a stand-alone executable!  Grab the latest source tarball from the <a href="http://pypy.org/download.html#building-from-source">PyPy downloads page</a> and unzip it in your work directory:
        <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;compiling-rpython-programs&#x2F;">read more &gt;&gt;</a>
      
    </div>
  </div>
  
    <hr />
      <div class="page-preview">
    <h3><a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;frozen-app-starting-faster&#x2F;">Starting Faster for Frozen Python Apps</a></h3>
    <div class="item-meta">
      <div class="item-date">July 21, 2010</div>
      <div class="item-tags">
        [ 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;software&#x2F;">software</a>
           | 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;python&#x2F;">python</a>
          
        
        ]
      </div>
    </div>
    <div class="page-summary">
      <p>I've just spent a few days trying to improve the performance of a frozen Python app - specifically, the time it takes to start up and present a login window.  Most of the improvements were down to good old-fashioned writing of better code, but I also put together a couple of tricks to help shave off even more milliseconds.  They both target one of the major sources of slowness when starting up a Python app: imports.</p>

        <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;frozen-app-starting-faster&#x2F;">read more &gt;&gt;</a>
      
    </div>
  </div>
  
    <hr />
      <div class="page-preview">
    <h3><a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;a-gil-adventure-threading2&#x2F;">A GIL Adventure (with a happy ending)</a></h3>
    <div class="item-meta">
      <div class="item-date">February 05, 2010</div>
      <div class="item-tags">
        [ 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;software&#x2F;">software</a>
           | 
        
          <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;tags&#x2F;python&#x2F;">python</a>
          
        
        ]
      </div>
    </div>
    <div class="page-summary">
      <p>I just halved the running time of one of my test suites.</p>
<p>The tests in question are multi-threaded, and while they perform a lot of IO they still push the CPU pretty hard.  For some time now, <a href="http://somethingaboutorange.com/mrl/projects/nose/">nose</a> has been reporting a happy little message along these lines:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">Ran 35 tests in 24.893s
</span></code></pre>
<p>I wouldn't have though anything of it, but every so often this number would drop dramatically – often down to as little as 15 seconds.  After a lot of puzzling, I realised that the tests would run faster whenever I had another test suite running <em>at the same time</em>.  Making my computer work harder made these tests run almost twice as fast!</p>

        <a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;entry&#x2F;a-gil-adventure-threading2&#x2F;">read more &gt;&gt;</a>
      
    </div>
  </div>
  

  
  
  <hr />
  <div class="related-pages">
    <div><a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;">Newer</a></div>
    <div><a href="https:&#x2F;&#x2F;www.rfk.id.au&#x2F;blog&#x2F;page&#x2F;3&#x2F;">Older</a></div>
  </div>
  
  


    </main>
  </body>
</html>